"use strict";(self.webpackChunkcpd_watsonx_guide=self.webpackChunkcpd_watsonx_guide||[]).push([[359],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(7294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,a=e.originalType,c=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=l(r),h=s,m=d["".concat(c,".").concat(h)]||d[h]||p[h]||a;return r?n.createElement(m,o(o({ref:t},u),{},{components:r})):n.createElement(m,o({ref:t},u))}));function m(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=r.length,o=new Array(a);o[0]=h;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[d]="string"==typeof e?e:s,o[1]=i;for(var l=2;l<a;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}h.displayName="MDXCreateElement"},4201:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var n=r(7462),s=(r(7294),r(3905));const a={sidebar_position:7},o="User Access Part 1 - IBM Cloud IAM and ROKS",i={unversionedId:"user-access-roks-iam",id:"user-access-roks-iam",title:"User Access Part 1 - IBM Cloud IAM and ROKS",description:"Adding users beyond the cpadmin user to Cloud Pak for Data requires configuration of the users in an external Identity Provider. Many Identity Providers are supported, but for a quick start, you can set up additional OpenShift users using IBM Cloud IAM access and then use the initially configured CPD => OpenShift oauth provider to add users to Cloud Pak for Data.",source:"@site/docs/user-access-roks-iam.md",sourceDirName:".",slug:"/user-access-roks-iam",permalink:"/roks-cpd-wa-wd/user-access-roks-iam",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Login to CPD",permalink:"/roks-cpd-wa-wd/login-to-cpd"},next:{title:"User Access Part 2 - Adding CPD users from OpenShift",permalink:"/roks-cpd-wa-wd/user-access-cpd-instances"}},c={},l=[{value:"Create an IBM Cloud Access Group allowing access to the OpenShift Cluster",id:"create-an-ibm-cloud-access-group-allowing-access-to-the-openshift-cluster",level:2},{value:"Add users to the Access Group",id:"add-users-to-the-access-group",level:2},{value:"User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry",id:"user-accesses-the-openshift-cluster-from-the-ibm-cloud-console-to-create-their-identity-in-the-openshift-user-registry",level:2}],u={toc:l},d="wrapper";function p(e){let{components:t,...r}=e;return(0,s.kt)(d,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"user-access-part-1---ibm-cloud-iam-and-roks"},"User Access Part 1 - IBM Cloud IAM and ROKS"),(0,s.kt)("p",null,"Adding users beyond the ",(0,s.kt)("inlineCode",{parentName:"p"},"cpadmin")," user to Cloud Pak for Data requires configuration of the users in an external Identity Provider. Many Identity Providers are supported, but for a quick start, you can set up additional OpenShift users using IBM Cloud IAM access and then use the initially configured CPD => OpenShift oauth provider to add users to Cloud Pak for Data."),(0,s.kt)("p",null,"If you are using a different Identity Provider and just want to see how to add those users to a group and watsonx Assistant or Watson Discovery instances, skip ahead to ",(0,s.kt)("a",{parentName:"p",href:"/roks-cpd-wa-wd/user-access-cpd-instances"},(0,s.kt)("strong",{parentName:"a"},"User Access Part 2 - Adding CPD users from OpenShift")),"."),(0,s.kt)("h2",{id:"create-an-ibm-cloud-access-group-allowing-access-to-the-openshift-cluster"},"Create an IBM Cloud Access Group allowing access to the OpenShift Cluster"),(0,s.kt)("p",null,"This group will only be needed for IBM Cloud users in the account that do not already have access to the OpenShift Cluster as a developer or administrator"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"From the IBM Cloud console top menu, select ",(0,s.kt)("strong",{parentName:"li"},"Manage")," -> ",(0,s.kt)("strong",{parentName:"li"},"Access(IAM)")),(0,s.kt)("li",{parentName:"ol"},"Click on ",(0,s.kt)("strong",{parentName:"li"},"Create Access Group")),(0,s.kt)("li",{parentName:"ol"},'Give the group a descriptive name like "CPD-VIEWER-OPENSHIFT", optionally, provide more details in the description'),(0,s.kt)("li",{parentName:"ol"},"Select the ",(0,s.kt)("strong",{parentName:"li"},"Access")," tab and then click on ",(0,s.kt)("strong",{parentName:"li"},"Assign access")),(0,s.kt)("li",{parentName:"ol"},"For the Service name, type in ",(0,s.kt)("strong",{parentName:"li"},"Kubernetes Service")," and click on ",(0,s.kt)("strong",{parentName:"li"},"Next")),(0,s.kt)("li",{parentName:"ol"},"Under Resources, select ",(0,s.kt)("strong",{parentName:"li"},"Specific resources"),", then the ",(0,s.kt)("strong",{parentName:"li"},"Cluster")," attribute type and select your cluster name as the value. Then click on ",(0,s.kt)("strong",{parentName:"li"},"Add a condition")," and select the ",(0,s.kt)("strong",{parentName:"li"},"Namespace")," attribute and type in ",(0,s.kt)("strong",{parentName:"li"},"default")," as the value. Finally, click on ",(0,s.kt)("strong",{parentName:"li"},"Next")),(0,s.kt)("li",{parentName:"ol"},"Under Roles and actions, for Service access, select ",(0,s.kt)("strong",{parentName:"li"},"Reader"),", and for Platform access, select ",(0,s.kt)("strong",{parentName:"li"},"Viewer"),", then click on ",(0,s.kt)("strong",{parentName:"li"},"Add")),(0,s.kt)("li",{parentName:"ol"},"On the right side click on ",(0,s.kt)("strong",{parentName:"li"},"Assign")," to grant the policy to the Access Group.")),(0,s.kt)("h2",{id:"add-users-to-the-access-group"},"Add users to the Access Group"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"If the users are already in the IBM Cloud account, from the Access Group page, select ",(0,s.kt)("strong",{parentName:"li"},"Users")," and then use ",(0,s.kt)("strong",{parentName:"li"},"Add Users")," to add more account users to the access group"),(0,s.kt)("li",{parentName:"ol"},"Invite new users to the account by selecting the ",(0,s.kt)("strong",{parentName:"li"},"Users")," item from the left menu and then ",(0,s.kt)("strong",{parentName:"li"},"Invite users"),", provide a list of e-mail addresses of users to invite. Select the Access Group that was added and click on ",(0,s.kt)("strong",{parentName:"li"},"Add")," to include access to the group to the invited users. Then click on ",(0,s.kt)("strong",{parentName:"li"},"Invite"))),(0,s.kt)("p",null,"New users that are added to the IBM Cloud platform will receive an email, they must click on the account invitation link and join the account before attempting to access the OpenShift cluster. Whether the user was a previous user in the account or was just invited, all users must do an initial sign-in to the OpenShift console in order for their identity to be added to OpenShift. Each user needs to perform this step:"),(0,s.kt)("h2",{id:"user-accesses-the-openshift-cluster-from-the-ibm-cloud-console-to-create-their-identity-in-the-openshift-user-registry"},"User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"From the IBM Cloud Console, open ",(0,s.kt)("a",{parentName:"li",href:"https://cloud.ibm.com/kubernetes/clusters?platformType=openshift"},"OpenShift Resources")),(0,s.kt)("li",{parentName:"ol"},"Select the OpenShift cluster (if more than one is shown, select the cluster with Cloud Pak for Data/watsonx Assistant installed)"),(0,s.kt)("li",{parentName:"ol"},"From the cluster control panel click on the ",(0,s.kt)("strong",{parentName:"li"},"OpenShift web console")," button to access the OpenShift dashboard."),(0,s.kt)("li",{parentName:"ol"},"Once the dashboard opens, the user can close the tab.")),(0,s.kt)("p",null,"At this point, an OpenShift adminstrator will see the user identity using the Administrator dashboard under ",(0,s.kt)("strong",{parentName:"p"},"User Management")," -> ",(0,s.kt)("strong",{parentName:"p"},"Users")," . Users will be listed like ",(0,s.kt)("inlineCode",{parentName:"p"},"IAM#userid@example.com"),". Once the users are shown, proceed to the next step."))}p.isMDXComponent=!0}}]);