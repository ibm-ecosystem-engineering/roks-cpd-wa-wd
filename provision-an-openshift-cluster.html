<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-provision-an-openshift-cluster" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Provisioning an OpenShift Cluster | roks-cpd-wa-wd-guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ananddas227.github.io/roks-cpd-wa-wd/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ananddas227.github.io/roks-cpd-wa-wd/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ananddas227.github.io/roks-cpd-wa-wd/provision-an-openshift-cluster"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Provisioning an OpenShift Cluster | roks-cpd-wa-wd-guide"><meta data-rh="true" name="description" content="Note: This tutorial uses a ROKS cluster on IBM Cloud. It requires a VPC with 3 subnets (1 per zone)."><meta data-rh="true" property="og:description" content="Note: This tutorial uses a ROKS cluster on IBM Cloud. It requires a VPC with 3 subnets (1 per zone)."><link data-rh="true" rel="icon" href="/roks-cpd-wa-wd/img/ibm_logo.svg"><link data-rh="true" rel="canonical" href="https://ananddas227.github.io/roks-cpd-wa-wd/provision-an-openshift-cluster"><link data-rh="true" rel="alternate" href="https://ananddas227.github.io/roks-cpd-wa-wd/provision-an-openshift-cluster" hreflang="en"><link data-rh="true" rel="alternate" href="https://ananddas227.github.io/roks-cpd-wa-wd/provision-an-openshift-cluster" hreflang="x-default"><link rel="stylesheet" href="/roks-cpd-wa-wd/assets/css/styles.15ac961d.css">
<link rel="preload" href="/roks-cpd-wa-wd/assets/js/runtime~main.1b307b27.js" as="script">
<link rel="preload" href="/roks-cpd-wa-wd/assets/js/main.fa2bb68f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/roks-cpd-wa-wd/"><b class="navbar__title text--truncate">IBM ROKS-cpd-wa-wd-install-guide</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/roks-cpd-wa-wd/provision-an-openshift-cluster">Provisioning an OpenShift Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-cpd">Installing CPD 4.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-watsonx-Assistant">Installing watsonx Assistant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-Watson-Discovery">Installing Watson Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/login-to-cpd">Login to CPD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/user-access-roks-iam">User Access Part 1 - IBM Cloud IAM and ROKS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/user-access-cpd-instances">User Access Part 2 - Adding CPD users from OpenShift</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/roks-cpd-wa-wd/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Provisioning an OpenShift Cluster</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Provisioning an OpenShift Cluster</h1><p><strong>Note:</strong> This tutorial uses a ROKS cluster on IBM Cloud. It requires a VPC with 3 subnets (1 per zone).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="worker-pool-1---openshift-data-foundation-odf-nodes">Worker Pool 1 - OpenShift Data Foundation (ODF) Nodes<a href="#worker-pool-1---openshift-data-foundation-odf-nodes" class="hash-link" aria-label="Direct link to Worker Pool 1 - OpenShift Data Foundation (ODF) Nodes" title="Direct link to Worker Pool 1 - OpenShift Data Foundation (ODF) Nodes">â€‹</a></h2><ol><li>This tutorial uses OpenShift version 4.12.46.</li><li>For our first worker pool, we&#x27;ll provision the nodes used by ODF. We&#x27;ll provision 1 worker node per zone for a total of 3 worker nodes. Each node will have the following specifications: 16 vCPU&#x27;s, 64 GB RAM, 100GB BLOCK primary storage, 300GB 5iops-tier secondary storage. The described worker pool flavor can be found below:
<img loading="lazy" alt="ODF Worker Pool" src="/roks-cpd-wa-wd/assets/images/odf-worker-pool-flavor-b24942ea5ad18802ccedc55e08e4a5b3.png" width="2402" height="1784" class="img_ev3q"></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-odf-onto-worker-pool-1">Install ODF onto Worker Pool 1<a href="#install-odf-onto-worker-pool-1" class="hash-link" aria-label="Direct link to Install ODF onto Worker Pool 1" title="Direct link to Install ODF onto Worker Pool 1">â€‹</a></h2><p>Once Worker Pool 1 has been provisioned and the nodes are healthy, we can install ODF.</p><ol><li>Click on your cluster in the resource list and scroll down. At the bottom of your cluster overview screen, you will see an option to install OpenShift Data Foundation:
<img loading="lazy" alt="ODF Install Settings" src="/roks-cpd-wa-wd/assets/images/odf-install-2e1e19baec065dc5fc835ee20c59c6cb.png" width="1284" height="599" class="img_ev3q"></li><li>For our ODF configuration, select the following values:<ol><li>Version: 4.12</li><li>Plan: Advanced</li><li>Storage Type: Remote Provisioning</li><li>OSD Storage Class Name: the default</li><li>OSD pod size (Gi): 2000</li><li>Number of OSD Disks Required: 1</li><li>Worker Nodes: Enter your 3 worker node IP&#x27;s separated by commas<ol><li>For example: 10.240.0.32, 10.242.0.33, 10.242.0.34</li></ol></li><li>Check the box for &quot;Deploy NooBaa multicloud gateway&quot;</li><li>Click Install</li></ol></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apply-taints-to-worker-pool-1---odf-nodes">Apply taints to Worker Pool 1 - ODF Nodes<a href="#apply-taints-to-worker-pool-1---odf-nodes" class="hash-link" aria-label="Direct link to Apply taints to Worker Pool 1 - ODF Nodes" title="Direct link to Apply taints to Worker Pool 1 - ODF Nodes">â€‹</a></h2><p>To avoid CPD&#x27;s pods being placed into the ODF worker pool, we can apply taints to our existing 3 ODF nodes in worker pool 1</p><ol><li><p>Login to your cluster using the oc cli on your Linux VM</p></li><li><p>You can run <code>oc get nodes</code> to see the names of the three nodes we need to taint</p></li><li><p>Run the following command for EACH node (you will have to run this command a total of three times, once per node):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oc adm taint nodes </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_NODE_NAME</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> node.ocs.openshift.io/storage</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token plain">:NoSchedule</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>You can check that the taint has been applied by running the following command for each node and scrolling to the &quot;Taints&quot; section in the output:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oc describe </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_NODE_NAME</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apply-your-ibm-entitlement-key-to-your-clusters-global-pull-secret">Apply your IBM Entitlement Key to your cluster&#x27;s global pull secret<a href="#apply-your-ibm-entitlement-key-to-your-clusters-global-pull-secret" class="hash-link" aria-label="Direct link to Apply your IBM Entitlement Key to your cluster&#x27;s global pull secret" title="Direct link to Apply your IBM Entitlement Key to your cluster&#x27;s global pull secret">â€‹</a></h2><p>We need to download the cpd-cli to apply our entitlement key before our second worker pool, which is used for the cpd install, is provisioned. Ensure that your podman machine is running on your VM before starting the following steps.</p><ol><li><p>Make a directory on your Linux VM and change directories into it:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> cpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> cpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Install CPD-CLI on your Linux VM:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -LSo cpd-cli-linux-EE-13.tgz https://github.com/IBM/cpd-cli/releases/download/v13.1.0/cpd-cli-linux-EE-13.1.0.tgz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Extract the file contents:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -xf cpd-cli-linux-EE-13.tgz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Change into the newly extracted directory</p></li><li><p>Login to the IBM registry</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">podman</span><span class="token plain"> login cp.icr.io -u </span><span class="token function" style="color:#d73a49">cp</span><span class="token plain"> -p </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IBM_PRIVATE_ENTITLEMENT_KEY</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Spin up the olm-utils container and add the entitlement key to the global pull secret</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./cpd-cli manage restart-container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./cpd-cli manage login-to-ocp </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_OC_LOGIN_COMMAND</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./cpd-cli manage add-cred-to-global-pull-secret --registry</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cp.icr.io --registry_pull_user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">cp --registry_pull_password</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">YOUR_IBM_PUBLIC_ENTITLEMENT_KEY</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="provision-worker-pool-2---cpd-nodes">Provision Worker Pool 2 - CPD Nodes<a href="#provision-worker-pool-2---cpd-nodes" class="hash-link" aria-label="Direct link to Provision Worker Pool 2 - CPD Nodes" title="Direct link to Provision Worker Pool 2 - CPD Nodes">â€‹</a></h2><ol><li>We&#x27;ll provision 2 worker nodes per zone for a total of 6 worker nodes. Each node will have the following specifications: 16 vCPU&#x27;s, 128 GB RAM, 100GB BLOCK primary storage, 600GB 5iops-tier secondary storage. The described worker pool flavor can be found below:</li></ol><p><img loading="lazy" alt="Worker Pool 2 Flavor" src="/roks-cpd-wa-wd/assets/images/cpd-worker-pool-flavor-8c912336b32ca7b1918750983c274acc.png" width="2430" height="1782" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/roks-cpd-wa-wd/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/roks-cpd-wa-wd/install-cpd"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Installing CPD 4.8.0</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#worker-pool-1---openshift-data-foundation-odf-nodes" class="table-of-contents__link toc-highlight">Worker Pool 1 - OpenShift Data Foundation (ODF) Nodes</a></li><li><a href="#install-odf-onto-worker-pool-1" class="table-of-contents__link toc-highlight">Install ODF onto Worker Pool 1</a></li><li><a href="#apply-taints-to-worker-pool-1---odf-nodes" class="table-of-contents__link toc-highlight">Apply taints to Worker Pool 1 - ODF Nodes</a></li><li><a href="#apply-your-ibm-entitlement-key-to-your-clusters-global-pull-secret" class="table-of-contents__link toc-highlight">Apply your IBM Entitlement Key to your cluster&#39;s global pull secret</a></li><li><a href="#provision-worker-pool-2---cpd-nodes" class="table-of-contents__link toc-highlight">Provision Worker Pool 2 - CPD Nodes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 IBM</div></div></div></footer></div>
<script src="/roks-cpd-wa-wd/assets/js/runtime~main.1b307b27.js"></script>
<script src="/roks-cpd-wa-wd/assets/js/main.fa2bb68f.js"></script>
</body>
</html>