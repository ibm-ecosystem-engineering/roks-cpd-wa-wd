<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-user-access-roks-iam" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">User Access Part 1 - IBM Cloud IAM and ROKS | roks-cpd-wa-wd-guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ananddas227.github.io/roks-cpd-wa-wd/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ananddas227.github.io/roks-cpd-wa-wd/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ananddas227.github.io/roks-cpd-wa-wd/user-access-roks-iam"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="User Access Part 1 - IBM Cloud IAM and ROKS | roks-cpd-wa-wd-guide"><meta data-rh="true" name="description" content="Adding users beyond the cpadmin user to Cloud Pak for Data requires configuration of the users in an external Identity Provider. Many Identity Providers are supported, but for a quick start, you can set up additional OpenShift users using IBM Cloud IAM access and then use the initially configured CPD =&gt; OpenShift oauth provider to add users to Cloud Pak for Data."><meta data-rh="true" property="og:description" content="Adding users beyond the cpadmin user to Cloud Pak for Data requires configuration of the users in an external Identity Provider. Many Identity Providers are supported, but for a quick start, you can set up additional OpenShift users using IBM Cloud IAM access and then use the initially configured CPD =&gt; OpenShift oauth provider to add users to Cloud Pak for Data."><link data-rh="true" rel="icon" href="/roks-cpd-wa-wd/img/ibm_logo.svg"><link data-rh="true" rel="canonical" href="https://ananddas227.github.io/roks-cpd-wa-wd/user-access-roks-iam"><link data-rh="true" rel="alternate" href="https://ananddas227.github.io/roks-cpd-wa-wd/user-access-roks-iam" hreflang="en"><link data-rh="true" rel="alternate" href="https://ananddas227.github.io/roks-cpd-wa-wd/user-access-roks-iam" hreflang="x-default"><link rel="stylesheet" href="/roks-cpd-wa-wd/assets/css/styles.15ac961d.css">
<link rel="preload" href="/roks-cpd-wa-wd/assets/js/runtime~main.1b307b27.js" as="script">
<link rel="preload" href="/roks-cpd-wa-wd/assets/js/main.fa2bb68f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/roks-cpd-wa-wd/"><b class="navbar__title text--truncate">IBM ROKS-cpd-wa-wd-install-guide</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/provision-an-openshift-cluster">Provisioning an OpenShift Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-cpd">Installing CPD 4.8.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-watsonx-Assistant">Installing watsonx Assistant</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/install-Watson-Discovery">Installing Watson Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/login-to-cpd">Login to CPD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/roks-cpd-wa-wd/user-access-roks-iam">User Access Part 1 - IBM Cloud IAM and ROKS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/roks-cpd-wa-wd/user-access-cpd-instances">User Access Part 2 - Adding CPD users from OpenShift</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/roks-cpd-wa-wd/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">User Access Part 1 - IBM Cloud IAM and ROKS</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>User Access Part 1 - IBM Cloud IAM and ROKS</h1><p>Adding users beyond the <code>cpadmin</code> user to Cloud Pak for Data requires configuration of the users in an external Identity Provider. Many Identity Providers are supported, but for a quick start, you can set up additional OpenShift users using IBM Cloud IAM access and then use the initially configured CPD =&gt; OpenShift oauth provider to add users to Cloud Pak for Data.</p><p>If you are using a different Identity Provider and just want to see how to add those users to a group and watsonx Assistant or Watson Discovery instances, skip ahead to <a href="/roks-cpd-wa-wd/user-access-cpd-instances"><strong>User Access Part 2 - Adding CPD users from OpenShift</strong></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-an-ibm-cloud-access-group-allowing-access-to-the-openshift-cluster">Create an IBM Cloud Access Group allowing access to the OpenShift Cluster<a href="#create-an-ibm-cloud-access-group-allowing-access-to-the-openshift-cluster" class="hash-link" aria-label="Direct link to Create an IBM Cloud Access Group allowing access to the OpenShift Cluster" title="Direct link to Create an IBM Cloud Access Group allowing access to the OpenShift Cluster">​</a></h2><p>This group will only be needed for IBM Cloud users in the account that do not already have access to the OpenShift Cluster as a developer or administrator</p><ol><li>From the IBM Cloud console top menu, select <strong>Manage</strong> -&gt; <strong>Access(IAM)</strong></li><li>Click on <strong>Create Access Group</strong></li><li>Give the group a descriptive name like &quot;CPD-VIEWER-OPENSHIFT&quot;, optionally, provide more details in the description</li><li>Select the <strong>Access</strong> tab and then click on <strong>Assign access</strong></li><li>For the Service name, type in <strong>Kubernetes Service</strong> and click on <strong>Next</strong></li><li>Under Resources, select <strong>Specific resources</strong>, then the <strong>Cluster</strong> attribute type and select your cluster name as the value. Then click on <strong>Add a condition</strong> and select the <strong>Namespace</strong> attribute and type in <strong>default</strong> as the value. Finally, click on <strong>Next</strong></li><li>Under Roles and actions, for Service access, select <strong>Reader</strong>, and for Platform access, select <strong>Viewer</strong>, then click on <strong>Add</strong></li><li>On the right side click on <strong>Assign</strong> to grant the policy to the Access Group.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-users-to-the-access-group">Add users to the Access Group<a href="#add-users-to-the-access-group" class="hash-link" aria-label="Direct link to Add users to the Access Group" title="Direct link to Add users to the Access Group">​</a></h2><ol><li>If the users are already in the IBM Cloud account, from the Access Group page, select <strong>Users</strong> and then use <strong>Add Users</strong> to add more account users to the access group</li><li>Invite new users to the account by selecting the <strong>Users</strong> item from the left menu and then <strong>Invite users</strong>, provide a list of e-mail addresses of users to invite. Select the Access Group that was added and click on <strong>Add</strong> to include access to the group to the invited users. Then click on <strong>Invite</strong></li></ol><p>New users that are added to the IBM Cloud platform will receive an email, they must click on the account invitation link and join the account before attempting to access the OpenShift cluster. Whether the user was a previous user in the account or was just invited, all users must do an initial sign-in to the OpenShift console in order for their identity to be added to OpenShift. Each user needs to perform this step:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user-accesses-the-openshift-cluster-from-the-ibm-cloud-console-to-create-their-identity-in-the-openshift-user-registry">User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry<a href="#user-accesses-the-openshift-cluster-from-the-ibm-cloud-console-to-create-their-identity-in-the-openshift-user-registry" class="hash-link" aria-label="Direct link to User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry" title="Direct link to User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry">​</a></h2><ol><li>From the IBM Cloud Console, open <a href="https://cloud.ibm.com/kubernetes/clusters?platformType=openshift" target="_blank" rel="noopener noreferrer">OpenShift Resources</a></li><li>Select the OpenShift cluster (if more than one is shown, select the cluster with Cloud Pak for Data/watsonx Assistant installed)</li><li>From the cluster control panel click on the <strong>OpenShift web console</strong> button to access the OpenShift dashboard.</li><li>Once the dashboard opens, the user can close the tab.</li></ol><p>At this point, an OpenShift adminstrator will see the user identity using the Administrator dashboard under <strong>User Management</strong> -&gt; <strong>Users</strong> . Users will be listed like <code>IAM#userid@example.com</code>. Once the users are shown, proceed to the next step.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/roks-cpd-wa-wd/login-to-cpd"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Login to CPD</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/roks-cpd-wa-wd/user-access-cpd-instances"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Access Part 2 - Adding CPD users from OpenShift</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-an-ibm-cloud-access-group-allowing-access-to-the-openshift-cluster" class="table-of-contents__link toc-highlight">Create an IBM Cloud Access Group allowing access to the OpenShift Cluster</a></li><li><a href="#add-users-to-the-access-group" class="table-of-contents__link toc-highlight">Add users to the Access Group</a></li><li><a href="#user-accesses-the-openshift-cluster-from-the-ibm-cloud-console-to-create-their-identity-in-the-openshift-user-registry" class="table-of-contents__link toc-highlight">User accesses the OpenShift cluster from the IBM Cloud Console to create their identity in the OpenShift user registry</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 IBM</div></div></div></footer></div>
<script src="/roks-cpd-wa-wd/assets/js/runtime~main.1b307b27.js"></script>
<script src="/roks-cpd-wa-wd/assets/js/main.fa2bb68f.js"></script>
</body>
</html>